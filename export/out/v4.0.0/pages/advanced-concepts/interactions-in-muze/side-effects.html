<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Side Effects</title><style>
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, YuMincho, "Yu Mincho", "Hiragino Mincho ProN", "Hiragino Mincho Pro", "Songti TC", "Songti SC", "SimSun", "Nanum Myeongjo", NanumMyeongjo, Batang, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC', 'Noto Sans CJK KR'; }

.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC', 'Noto Sans Mono CJK KR'; }

.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, YuMincho, "Yu Mincho", "Hiragino Mincho ProN", "Hiragino Mincho Pro", "Songti TC", "Songti SC", "SimSun", "Nanum Myeongjo", NanumMyeongjo, Batang, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC', 'Noto Sans CJK KR'; }

.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC', 'Noto Sans Mono CJK KR'; }

.highlight-default {
}
.highlight-gray {
	color: rgb(155,154,151);
}
.highlight-brown {
	color: rgb(100,71,58);
}
.highlight-orange {
	color: rgb(217,115,13);
}
.highlight-yellow {
	color: rgb(223,171,1);
}
.highlight-teal {
	color: rgb(15,123,108);
}
.highlight-blue {
	color: rgb(11,110,153);
}
.highlight-purple {
	color: rgb(105,64,165);
}
.highlight-pink {
	color: rgb(173,26,114);
}
.highlight-red {
	color: rgb(224,62,62);
}
.highlight-gray_background {
	background: rgb(235,236,237);
}
.highlight-brown_background {
	background: rgb(233,229,227);
}
.highlight-orange_background {
	background: rgb(250,235,221);
}
.highlight-yellow_background {
	background: rgb(251,243,219);
}
.highlight-teal_background {
	background: rgb(221,237,234);
}
.highlight-blue_background {
	background: rgb(221,235,241);
}
.highlight-purple_background {
	background: rgb(234,228,242);
}
.highlight-pink_background {
	background: rgb(244,223,235);
}
.highlight-red_background {
	background: rgb(251,228,228);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(55, 53, 47, 0.6);
	fill: rgba(55, 53, 47, 0.6);
}
.block-color-brown {
	color: rgb(100,71,58);
	fill: rgb(100,71,58);
}
.block-color-orange {
	color: rgb(217,115,13);
	fill: rgb(217,115,13);
}
.block-color-yellow {
	color: rgb(223,171,1);
	fill: rgb(223,171,1);
}
.block-color-teal {
	color: rgb(15,123,108);
	fill: rgb(15,123,108);
}
.block-color-blue {
	color: rgb(11,110,153);
	fill: rgb(11,110,153);
}
.block-color-purple {
	color: rgb(105,64,165);
	fill: rgb(105,64,165);
}
.block-color-pink {
	color: rgb(173,26,114);
	fill: rgb(173,26,114);
}
.block-color-red {
	color: rgb(224,62,62);
	fill: rgb(224,62,62);
}
.block-color-gray_background {
	background: rgb(235,236,237);
}
.block-color-brown_background {
	background: rgb(233,229,227);
}
.block-color-orange_background {
	background: rgb(250,235,221);
}
.block-color-yellow_background {
	background: rgb(251,243,219);
}
.block-color-teal_background {
	background: rgb(221,237,234);
}
.block-color-blue_background {
	background: rgb(221,235,241);
}
.block-color-purple_background {
	background: rgb(234,228,242);
}
.block-color-pink_background {
	background: rgb(244,223,235);
}
.block-color-red_background {
	background: rgb(251,228,228);
}
.select-value-color-default { background-color: rgba(206,205,202,0.5); }
.select-value-color-gray { background-color: rgba(155,154,151, 0.4); }
.select-value-color-brown { background-color: rgba(140,46,0,0.2); }
.select-value-color-orange { background-color: rgba(245,93,0,0.2); }
.select-value-color-yellow { background-color: rgba(233,168,0,0.2); }
.select-value-color-green { background-color: rgba(0,135,107,0.2); }
.select-value-color-blue { background-color: rgba(0,120,223,0.2); }
.select-value-color-purple { background-color: rgba(103,36,222,0.2); }
.select-value-color-pink { background-color: rgba(221,0,129,0.2); }
.select-value-color-red { background-color: rgba(255,0,26,0.2); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style><link rel="stylesheet" href="/iframe-docs/css/github.css"><link rel="stylesheet" href="/iframe-docs/css/style.css"><script src="/iframe-docs/js/highlight.pack.js"></script><script src="https://cdn.jsdelivr.net/npm/postmate@1.5.2/build/postmate.dev.js"></script></head><body><article id="a612b1ef-f297-4ed4-8415-786ddaaf4a65" class="page sans"><header><h1 class="page-title"><strong>Side Effects</strong></h1></header><div class="page-body"><p id="dd9ddb0d-b78a-45a9-a622-ee98d9d3ff0a" class><strong>Table of Contents</strong></p><div class="indented"><nav id="8db5acbd-ac45-4aed-9bc7-401e1b62d7b4" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#5ff5bff6-183d-4564-bde6-9ec7e383895c"><strong>Understanding Side-effects</strong></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#82f0af35-0f88-4cf0-84ff-16a4018431df"><strong>What is a strategy?</strong></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#b4fce679-3fc7-4a01-b5cd-4bb264c6f790"><strong>Types of Side Effects</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#e2bd103d-296f-457d-8a1d-fa6bdca0749b"><strong>Surrogate Side effect</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#d4216351-b93f-42fb-b810-62fca289322f"><strong>Spawnable Side effect</strong></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#3378e102-8899-4c13-bb9d-c2effc698a02"><strong>Wrapping Up</strong></a></div></nav></div><p></p><hr id="5d8c27bd-9695-48fc-8f7a-7f0b0e0b66c4"><p id="4fe6a33a-ce28-47d9-a0b3-9423e1132cf2" class>In this section, we will get an understanding of side effects and how they function.</p><p id="bc306916-b6d2-4250-be87-5aa391d824ad" class>Side Effects are any visual alterations made to the chart such as adding/removing elements or modifying their visual properties. Each side effect has a corresponding set of behaviours attached to it. Whenever any of the behaviours attached to the side effect is dispatched, Muze&apos;s Firebolt calls the side effect with the respective selection and rejection sets.</p><p id="70c419ce-f538-4491-828e-801cebd16141" class>We will be using the simple&#xA0;<a href="https://muzejs.org/data/cars.json"><mark class="highlight-blue">cars.json</mark></a><a href="https://muzejs.org/data/cars.json">&#xA0;</a>data.</p><h2 id="5ff5bff6-183d-4564-bde6-9ec7e383895c" class><strong>Understanding Side-effects</strong></h2><p id="17ad4c1c-a7a9-4e16-8af6-7184faa22f02" class>Whenever Firebolt triggers a <code>sideeffect</code>, it also provides the details of all the selection and rejection sets. Along with that, it also provides a strategy based on which they have to act. The side effect decides what to do with the selection and rejection sets based on the strategy.</p><p id="aed77caa-3722-4270-a20b-e160c7e090f3" class>
</p><h2 id="82f0af35-0f88-4cf0-84ff-16a4018431df" class><strong>What is a strategy?</strong></h2><p id="39ff382a-6ea1-4c5f-98b6-d029149955de" class>A strategy helps in deciding which of the rows of the&#xA0;<strong>new entry</strong>,&#xA0;<strong>old entry</strong>,&#xA0;<strong>new exit</strong>,&#xA0;<strong>old exit</strong>&#xA0;and&#xA0;<strong>complete</strong>&#xA0;sets should the strategy be applied to and in what way.</p><p id="ca5fc9a1-8f9f-4396-8337-5ed247c1ece8" class>For example, you could provide a strategy to&#xA0;<strong>fade out</strong>&#xA0;the items present in the rejection set for a particular side effect or you can choose to instead change the colors for the items present in the selection set. You can even choose different side effects for different subtypes of selection and rejection sets(new and old sets).</p><p id="64f59e9a-d816-4864-87f9-8be9cbbd5642" class>You can also map multiple strategies with the same set of side effects or create your own side effect(which you can read about&#xA0;<mark class="highlight-blue"><a href="registering-side-effects.html">here</a></mark>).</p><h2 id="b4fce679-3fc7-4a01-b5cd-4bb264c6f790" class><strong>Types of Side Effects</strong></h2><p id="787cd668-12bd-41c5-9246-a67412f42d21" class>There are two types of side effects:</p><h3 id="e2bd103d-296f-457d-8a1d-fa6bdca0749b" class><strong>Surrogate Side effect</strong></h3><p id="06d84b19-b93a-4a4a-8e22-190f153c1ffb" class>A surrogate side effect is an effect which modifies elements present in the visualization but doesn&apos;t add/remove DOM elements. Any changes in styles and/or animations are types of surrogate side effects. Let us understand this with this example, where we have a bar chart of&#xA0;<em>Horsepower</em>&#xA0;v/s&#xA0;<em>Origin</em>.</p><figure id="4d1e20a8-4b52-40cd-8344-c6eff7a4ab99"><div class="source"><iframe id="cp_embed_08582972198db3f7d61789d55f58c96d" src="https://codepen.io/chartshq/embed/preview/abdjqKo?height=600&amp;slug-hash=abdjqKo&amp;default-tabs=js,result&amp;host=https://codepen.io&amp;editable=true&amp;theme-id=undefined" title="Advanced Concepts: Surrogate Side Effects" scrolling="no" frameborder="0" height="600" allowtransparency="true" class="cp_embed_iframe" style="width: 100%; overflow: hidden;"></iframe></div></figure><p id="574c94f9-81b6-489b-89ed-f2f4ef2cd07c" class>Every time, we select a particular bar by clicking on it, it gets selected as the rest of the bars fade out. This is a simple example of a surrogate side effect.</p><figure id="1650af6e-9445-48b8-9ae8-ee18aa65defa" class="image"><a href="side-effects/Screenshot_2019-12-16_at_4.19.05_PM.png"><img style="width:1658px" src="side-effects/Screenshot_2019-12-16_at_4.19.05_PM.png"></a></figure><p id="178255fa-41d1-42bf-8fef-c2e95c4fc099" class>Since only the colors of the chart changes, there is no addition/removal of elements from the chart and hence is an example of a surrogate side effect.</p><h3 id="d4216351-b93f-42fb-b810-62fca289322f" class><strong>Spawnable Side effect</strong></h3><p id="3a8f119e-9ab2-489c-bdc6-583fa58c37d7" class>A spawnable side effect on the other hand, is an effect which creates/removes elements from the canvas. Thus, whenever elements are added, like tooltips and crosslines, they act as spawanable side effects of the behaviours.</p><p id="63e97923-92d2-4ca3-8a92-71d1ac07c7dd" class>If we take the same example as above, i.e.,&#xA0;<em>Horsepower</em>&#xA0;v/s&#xA0;<em>Origin</em>:</p><figure id="62385693-73cc-4847-b5d0-1900e1319a2d"><div class="source"><iframe id="cp_embed_099768004f7898fdb214f994381b17fc" src="https://codepen.io/chartshq/embed/preview/qBbyxyd?height=600&amp;slug-hash=qBbyxyd&amp;default-tabs=js,result&amp;host=https://codepen.io&amp;editable=true&amp;theme-id=undefined" title="Advanced Concepts: Spawnable Side Effects" scrolling="no" frameborder="0" height="600" allowtransparency="true" class="cp_embed_iframe" style="width: 100%; overflow: hidden;"></iframe></div></figure><p id="ce5f3666-916b-41e0-86e9-797b0ade96f1" class>Everytime we hover over the bars in a chart, we get a tooltip on the chart. This tooltip is a new element that was not present when the canvas initialized originally and thus is a spawnable side effect.</p><h2 id="3378e102-8899-4c13-bb9d-c2effc698a02" class><strong>Wrapping Up</strong></h2><p id="e8566e85-a537-4ff8-9a6b-db629079b228" class>To summarize:</p><ul id="b9e2ceaa-a719-43b3-8ac7-874e17f62d13" class="bulleted-list"><li>Side effects are visual changes in the canvas due to a change in the behaviour</li></ul><ul id="0cdde7f6-d8e2-4edf-b265-bbe2dd7bf883" class="bulleted-list"><li>Side effects get the details of the selection and rejection sets and act on them based on the strategy present</li></ul><ul id="a7b33f76-3869-468a-aa03-33c2895f0117" class="bulleted-list"><li>There are two types of side effects: surrogate and spawnable</li></ul><ul id="1315897e-4c51-4d7b-952b-b28717e13275" class="bulleted-list"><li>Surrogate side effects modifies elements in the canvas without creating/removing elements</li></ul><ul id="c7692bf4-b34e-4442-a0c8-41a64b03db79" class="bulleted-list"><li>Spawnable side effects create and/or remove elements from the canvas</li></ul><ul id="7f7c7398-348f-439a-b6f3-1a66cd71cf38" class="bulleted-list"><li>Multiple behaviours can have the same side effect and vice versa</li></ul><p id="4bbce3cc-6a5f-4d98-adc0-6e1389cbd3c3" class>We&apos;ll talk about registering and using side effects later.</p></div></article></body><script>hljs.initHighlightingOnLoad();</script><script src="/iframe-docs/js/test.js"></script></html>