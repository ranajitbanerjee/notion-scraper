<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Introducing  DataModel</title><style>
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark-href {
	font-size: 0.75em;
	opacity: 0.5;
}

.sans { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, KaiTi, STKaiTi, '华文楷体', KaiTi_GB2312, '楷体_GB2312', serif; }
.mono { font-family: Nitti, 'Microsoft YaHei', '微软雅黑', monospace; }
.pdf .sans { font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC', 'Noto Sans CJK KR'; }

.pdf .code { font-family: Source Code Pro, 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC', 'Noto Sans Mono CJK KR'; }

.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, KaiTi, STKaiTi, '华文楷体', KaiTi_GB2312, '楷体_GB2312', serif, 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC', 'Noto Sans CJK KR'; }

.pdf .mono { font-family: PT Mono, Nitti, 'Microsoft YaHei', '微软雅黑', monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC', 'Noto Sans Mono CJK KR'; }

.highlight-default {
}
.highlight-gray {
	color: rgb(155,154,151);
}
.highlight-brown {
	color: rgb(100,71,58);
}
.highlight-orange {
	color: rgb(217,115,13);
}
.highlight-yellow {
	color: rgb(223,171,1);
}
.highlight-teal {
	color: rgb(15,123,108);
}
.highlight-blue {
	color: rgb(11,110,153);
}
.highlight-purple {
	color: rgb(105,64,165);
}
.highlight-pink {
	color: rgb(173,26,114);
}
.highlight-red {
	color: rgb(224,62,62);
}
.highlight-gray_background {
	background: rgb(235,236,237);
}
.highlight-brown_background {
	background: rgb(233,229,227);
}
.highlight-orange_background {
	background: rgb(250,235,221);
}
.highlight-yellow_background {
	background: rgb(251,243,219);
}
.highlight-teal_background {
	background: rgb(221,237,234);
}
.highlight-blue_background {
	background: rgb(221,235,241);
}
.highlight-purple_background {
	background: rgb(234,228,242);
}
.highlight-pink_background {
	background: rgb(244,223,235);
}
.highlight-red_background {
	background: rgb(251,228,228);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(55, 53, 47, 0.6);
	fill: rgba(55, 53, 47, 0.6);
}
.block-color-brown {
	color: rgb(100,71,58);
	fill: rgb(100,71,58);
}
.block-color-orange {
	color: rgb(217,115,13);
	fill: rgb(217,115,13);
}
.block-color-yellow {
	color: rgb(223,171,1);
	fill: rgb(223,171,1);
}
.block-color-teal {
	color: rgb(15,123,108);
	fill: rgb(15,123,108);
}
.block-color-blue {
	color: rgb(11,110,153);
	fill: rgb(11,110,153);
}
.block-color-purple {
	color: rgb(105,64,165);
	fill: rgb(105,64,165);
}
.block-color-pink {
	color: rgb(173,26,114);
	fill: rgb(173,26,114);
}
.block-color-red {
	color: rgb(224,62,62);
	fill: rgb(224,62,62);
}
.block-color-gray_background {
	background: rgb(235,236,237);
}
.block-color-brown_background {
	background: rgb(233,229,227);
}
.block-color-orange_background {
	background: rgb(250,235,221);
}
.block-color-yellow_background {
	background: rgb(251,243,219);
}
.block-color-teal_background {
	background: rgb(221,237,234);
}
.block-color-blue_background {
	background: rgb(221,235,241);
}
.block-color-purple_background {
	background: rgb(234,228,242);
}
.block-color-pink_background {
	background: rgb(244,223,235);
}
.block-color-red_background {
	background: rgb(251,228,228);
}

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="d1e43f02-5710-4c92-be88-d77454388e2c" class="page sans"><header><h1 class="page-title"><strong>Introducing  DataModel</strong></h1></header><div class="page-body"><p id="97a7e237-0b46-4171-88e3-270f96193cf7" class=""><strong>Table of Contents</strong><div class="indented"><nav id="bf6d7104-7575-497c-a9d3-d63d8ac47b63" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#8b27182e-8b1b-4ca4-af84-d5fc2bc34830"><strong>What is DataModel?</strong></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#efd057dc-654c-4976-bf6f-344c54de494c"><strong>Why is a DataModel even necessary for visualization?</strong></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#c34e5e59-eae0-4a91-949b-78df0a959d03"><strong>Features of DataModel</strong></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#52acf7e0-7ade-4c4a-96e8-0729f0e513f8"><strong>Creating instance of DataModel from the most common data formats</strong></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#bd583fd8-f29d-404d-aede-2c38b1361bed"><strong>Providing the schema of the data to DataModel</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#1f0b87c2-a324-40ea-999f-47a0cce8b4ea"><strong>Dimension</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#fdb9e6d6-cbcd-4a31-aba7-47dd302d69a2"><strong>Measure</strong></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#7a4a0d3d-abe8-49ed-adaf-88f7e9e3e451"><strong>Wrapping up</strong></a></div></nav></div></p><hr id="d991d04e-c070-412e-833f-d786f4605559"/><h2 id="8b27182e-8b1b-4ca4-af84-d5fc2bc34830" class=""><strong>What is DataModel?</strong></h2><p id="75e84112-bfe6-4938-a2a3-df2f1ae6b0a5" class="">DataModel is a minimalistic, in-browser representation of tabular data, which is fed to Muze for visualization. It supports relational <mark class="highlight-blue"><a href="https://muzejs.org/docs/datamodel-operators">algebra operators</a></mark> which enable you to run <strong>selection</strong>, <strong>projection</strong>, <strong>group</strong>, <strong>bin</strong>, <strong>join</strong> (and many more) operations on the data.</p><p id="5fcf02d0-9fce-4d9f-bc03-ea9bfdd59b91" class="">Muze recognizes instances of DataModel as the first class representation of data. It makes use of the DataModel operators heavily. You can easily configure any custom visualization and interactions by using combinations of these operators. You can check the <mark class="highlight-blue"><a href="https://muzejs.org/examples">examples</a></mark> which DataModel facilitates.</p><p id="8f787781-d38e-4f90-88b6-114893b181c4" class="">DataModel can also be used independently without the need of Muze if you need an in-browser tabular data store for analysis, visualization or just general use of data stores. Since DataModel provides consistency in operations it can be used with different JavaScript libraries to achieve numerous use cases.</p><h2 id="efd057dc-654c-4976-bf6f-344c54de494c" class=""><strong>Why is a DataModel even necessary for visualization?</strong></h2><p id="adb68752-43fb-4275-8fab-732126cb5b7e" class="">The first thing you need, to create a visualization is data. Every thing that you see in a chart, starting from title, subtitle, scales, annotations, plots, interactions are driven by data which is derived by applying transformations on one single source of truth (which is your source data).</p><p id="096a3692-a0d1-41ec-9a19-578715c4cca0" class="">Many of the charting libraries currently available on the market accept only pre-defined formats for data, dictated by the chart type you&#x27;re rendering. In addition, there are no in-built methods to transform data either before rendering, or post interaction on chart - thereby making the charts just a <em>dumb</em> rendering engine. This results in more work for you, as a developer, where you&#x27;ve to write chart specific transformations or data operations yourself, leading to development overheads, non scalable applications, and even multiple sources of truth.</p><p id="2c4afb4b-267a-4ce3-8584-cdb282f8d163" class="">DataModel gives you one consistent data format - a well established mental model and powerful set of transformation functions to address this.</p><p id="b53431a6-aae3-40ec-ae61-93a5577b3469" class="">For all those data manipulations, DataModel draws inspiration from SQL&#x27;s data manipulation philosophy. SQL first appeared 1974 and still remains relevant for its simplicity, wide adoption &amp; power of data manipulation (query, transform etc.). SQL paradigms follow the basic semantics of relational algebra which breaks high level operations into atomic sub operations and provide a grammar that enables composing multiple operations and then nesting or chaining them.</p><p id="58d7e424-63c8-412a-8e88-4c30be284861" class="">DataModel implements a subset of those high level and atomic operators with a few constraints (since it runs in browser with limited resources).</p><p id="526f7d3f-dc11-4788-adb0-70af62c66cdc" class="">However, you don&#x27;t need to have any prior understanding of relational algebra or SQL to use DataModel. We will be explaining the required concepts whenever needed.</p><h2 id="c34e5e59-eae0-4a91-949b-78df0a959d03" class=""><strong>Features of DataModel</strong></h2><ul id="26043f93-d54b-4f03-a63c-60e2a672ae15" class="bulleted-list"><li><strong>Supports relational algebra operators to:</strong><ul id="ec6bb340-1a04-427d-a210-b9fd394ad441" class="bulleted-list"><li>Filter rows</li></ul><ul id="9e472bc9-42a7-4147-b5d5-bf9f454e1ad0" class="bulleted-list"><li>Filter columns</li></ul><ul id="1377f24b-f95b-47a0-a603-ce4719e81e46" class="bulleted-list"><li>Group / aggregate data</li></ul><ul id="354dc506-0a84-44b6-8cbc-709717676f4c" class="bulleted-list"><li>Join data</li></ul><ul id="ec235263-b9bd-4880-91ad-56af018aa42f" class="bulleted-list"><li>Get union of data</li></ul><ul id="2e91e949-fa73-48ac-9c79-1b6c96460c15" class="bulleted-list"><li>Get intersection of data</li></ul></li></ul><ul id="2f1451d6-097a-4ad5-9825-252e5571f8c4" class="bulleted-list"><li><strong>Compose operations, with multiple levels of nesting possible</strong></li></ul><ul id="226e396f-217c-4b43-8370-dd45dbe28426" class="bulleted-list"><li><strong>Provide additional data operators:</strong><ul id="7778be03-278d-4bb9-9039-aaf8b44951e7" class="bulleted-list"><li>Create new calculated variable (column) from existing ones</li></ul><ul id="daae86f1-d888-4f26-8cc8-0b20472bb6fd" class="bulleted-list"><li>Sort one or more columns</li></ul><ul id="aee98138-93f0-41d9-a14d-c5f6e4225905" class="bulleted-list"><li>Bin data</li></ul></li></ul><ul id="351cdcd7-a04d-4a69-a992-8a13e1969136" class="bulleted-list"><li><strong>Immutable</strong> - DataModel is immutable. Every operator creates a new instance of DataModel. Chaining of multiple such operators essentially creates a Directed Acyclic Graph (DAG). You can pick up any node from the graph and pass it to Muze to visualize the data.</li></ul><ul id="ed11c597-aec5-4ed5-9d35-8a621381e505" class="bulleted-list"><li><strong>Propagation</strong> - Since applying multiple operators creates a DAG, DataModel can propagate any data event from one node to another with proper semantics. Changes are automatically propagated from root (source) DataModel to all the derived (manipulated) DataModels. In a nutshell this is how muze renderer establishes auto connections of charts.</li></ul><h2 id="52acf7e0-7ade-4c4a-96e8-0729f0e513f8" class=""><strong>Creating instance of DataModel from the most common data formats</strong></h2><p id="16ef5728-ab92-477d-862e-277fdbf2154f" class="">DataModel can accept input tabular data in 3 of the most popular formats:</p><ul id="c1c3b39d-04c4-430d-bc60-b9c631d7cd2e" class="bulleted-list"><li>Delimiter separated format (DSV)</li></ul><ul id="8dca58de-ff76-4b65-a2f4-5772e33ed0eb" class="bulleted-list"><li>Flat JSON</li></ul><ul id="f903994a-52cd-4b7c-a686-7d0a04f83e2d" class="bulleted-list"><li>2D Array</li></ul><p id="fb338c50-1068-416b-82b7-f8d0bb6c40c6" class="">Here is the sample data which we will be representing in 3 different formats.</p><div id="49ed0faf-d3a8-47a4-9665-d826d4f71826" class="collection-content"><h4 class="collection-title">cars</h4><table class="collection-content"><thead><tr><th>__id</th><th>Name</th><th>Miles_per_Gallon</th><th>Cylinders</th><th>Displacement</th><th>Horsepower</th><th>Weight_in_lbs</th><th>Acceleration</th><th>Year</th><th>Origin</th></tr></thead><tbody><tr id="ab180dbe-5ba1-4456-b332-f720ba8b6941"><td class="cell-title"><a href="Introducing%20DataModel/cars/Untitled.html">Untitled</a></td><td class="cell-rZ/f">chevrolet chevelle malibu</td><td class="cell-2&gt;fi">18</td><td class="cell-#QGX">8</td><td class="cell-/(w-">307</td><td class="cell-CUw`">130</td><td class="cell-(9Rm">3504</td><td class="cell-jZVy">12</td><td class="cell-=WN-">1970</td><td class="cell-pTJ\"><span class="selected-value">USA</span></td></tr><tr id="cd8fafc5-270e-436f-802b-feea821bfa50"><td class="cell-title"><a href="Introducing%20DataModel/cars/Untitled%201.html">Untitled</a></td><td class="cell-rZ/f">buick skylark 320</td><td class="cell-2&gt;fi">15</td><td class="cell-#QGX">8</td><td class="cell-/(w-">350</td><td class="cell-CUw`">165</td><td class="cell-(9Rm">3693</td><td class="cell-jZVy">11.5</td><td class="cell-=WN-">1970</td><td class="cell-pTJ\"><span class="selected-value">USA</span></td></tr><tr id="80139b73-a1e2-4c23-afd3-6e9659e5ed8d"><td class="cell-title"><a href="Introducing%20DataModel/cars/Untitled%202.html">Untitled</a></td><td class="cell-rZ/f">plymouth satellite</td><td class="cell-2&gt;fi">18</td><td class="cell-#QGX">8</td><td class="cell-/(w-">318</td><td class="cell-CUw`">150</td><td class="cell-(9Rm">3436</td><td class="cell-jZVy">11</td><td class="cell-=WN-">1970</td><td class="cell-pTJ\"><span class="selected-value">USA</span></td></tr></tbody></table></div><p id="9de4af6a-34ed-42c5-9a74-bf846c1de16a" class="">This table compares different attributes for a list of cars. Here we&#x27;ve 9 columns and 3 rows. For the sake of simplicity, we&#x27;ve reduced the data to just 3 rows.</p><p id="3d1bf3e6-4a05-4082-b588-fd16861c491f" class="">Now, let&#x27;s see example of how this table will need to be converted into different formats, to act as input for data model.</p><p id="ab819995-8d79-4391-a0e0-caf902d2129e" class="">DataModel can ingest data in any of the three formats.</p><ul id="3e324374-7020-4975-b03d-cf578b4486ee" class="bulleted-list"><li><strong>Delimiter separated format (DSV)</strong>: If you want to use DSV format (CSV, TSV, etc.) to provide data to DataModel, the above table would result in this format:<pre id="a4c3bbd8-0515-43db-82a9-7e1833d4d94f" class="code"><code>Name,Miles_per_Gallon,Cylinders,Displacement,Horsepower,Weight_in_lbs,Acceleration,Year,Origin
chevrolet chevelle malibu,18,8,307,130,3504,12,1970,USA
buick skylark 320,15,8,350,165,3693,11.5,1970,USA
plymouth satellite,18,8,318,150,3436,11,1970,USA</code></pre></li></ul><ul id="9443c5ea-c625-411b-b02e-0dae6c37a405" class="bulleted-list"><li><strong>Flat JSON</strong>: If you want to use flat JSON as a data format, the above table would be represented as<pre id="9cc225fc-efba-4954-a25b-0c9a50a79cc1" class="code"><code>[
    { 
        &quot;Name&quot;:&quot;chevrolet chevelle malibu&quot;, 
        &quot;Miles_per_Gallon&quot;:18,
        &quot;Cylinders&quot;:8,
        &quot;Displacement&quot;:307,
        &quot;Horsepower&quot;:130,
        &quot;Weight_in_lbs&quot;:3504,
        &quot;Acceleration&quot;:12,
        &quot;Year&quot;:&quot;1970-01-01&quot;,
        &quot;Origin&quot;:&quot;USA&quot;
    },
   {
        &quot;Name&quot;:&quot;buick skylark 320&quot;,
        &quot;Miles_per_Gallon&quot;:15,
        &quot;Cylinders&quot;:8,
        &quot;Displacement&quot;:350,
        &quot;Horsepower&quot;:165,
        &quot;Weight_in_lbs&quot;:3693,
        &quot;Acceleration&quot;:11.5,
        &quot;Year&quot;:&quot;1970-01-01&quot;,
        &quot;Origin&quot;:&quot;USA&quot;
    },
   {
        &quot;Name&quot;:&quot;plymouth satellite&quot;,
        &quot;Miles_per_Gallon&quot;:18,
        &quot;Cylinders&quot;:8,
        &quot;Displacement&quot;:318,
        &quot;Horsepower&quot;:150,
        &quot;Weight_in_lbs&quot;:3436,
        &quot;Acceleration&quot;:11,
        &quot;Year&quot;:&quot;1970-01-01&quot;,
        &quot;Origin&quot;:&quot;USA&quot;
    },
   { 
        &quot;Name&quot;:&quot;amc rebel sst&quot;,
        &quot;Miles_per_Gallon&quot;:16,
        &quot;Cylinders&quot;:8,
        &quot;Displacement&quot;:304,
        &quot;Horsepower&quot;:150,
        &quot;Weight_in_lbs&quot;:3433,
        &quot;Acceleration&quot;:12,
        &quot;Year&quot;:&quot;1970-01-01&quot;,
        &quot;Origin&quot;:&quot;USA&quot;
    }
]</code></pre></li></ul><ul id="7480daac-1a0a-4cb9-a64c-70289ca91ebc" class="bulleted-list"><li><strong>2D Array</strong>: If you want to use 2D JavaScript array as a data format, the above table would be represented as<pre id="5a7474b6-6457-4307-8c5b-497faedcb142" class="code"><code>[
   [&quot;Name&quot;, &quot;Miles_per_Gallon&quot;,&quot;Cylinders&quot;, &quot;Displacement&quot;,&quot;Weight_in_lbs&quot;,&quot;Acceleration&quot;,&quot;Year&quot;,&quot;Origin&quot;],
   [ &quot;chevrolet chevelle malibu&quot;, 18, 8, 307, 130, 3504, 12,&quot;1970-01-01&quot;, &quot;USA&quot; ],
   [ &quot;buick skylark 320&quot;, 15, 8, 350, 165, 3693, 11.5,&quot;1970-01-01&quot;, &quot;USA&quot; ],
   [ &quot;plymouth satellite&quot;, 18, 8, 318, 150, 3436, 11,&quot;1970-01-01&quot;, &quot;USA&quot; ]
];</code></pre></li></ul><h2 id="bd583fd8-f29d-404d-aede-2c38b1361bed" class=""><strong>Providing the schema of the data to DataModel</strong></h2><p id="5f7ccf93-6267-4f2d-8b33-2187c0b8be6d" class="">Till now, we&#x27;ve just converted the entire table of data into one of the 3 data formats to feed into DataModel. Next, we will learn how schema tells DataModel about the characteristics of the columns.</p><p id="5b8015dd-d7d2-4311-b4c7-bdd4887056c6" class="">Following are the properties of schema which you should know in the first place. We will provide a brief description of each property and then we are gonna explain in details what each property means in the sub sequent section.</p><ul id="8fd18304-df68-40c8-a407-e75330d33a75" class="bulleted-list"><li><code>name</code>: Name of the variable for which schema is defined</li></ul><ul id="b07d6eeb-4909-473a-ae27-55ec971c178c" class="bulleted-list"><li><code>type</code>: Type of the variable <em>Measure</em> | <em>Dimension</em>. Default is <em>Dimension</em></li></ul><ul id="7c15da94-e642-4bbf-9f5f-0440d10efa4d" class="bulleted-list"><li><code>subtype</code>: For a particular type, subtype of a variable.</li></ul><ul id="ef114fc0-7d91-45b5-9093-89f2396a3085" class="bulleted-list"><li><code>defAggFn</code>: Default aggregation function. <code>sum</code> by default.</li></ul><p id="c0ce7955-ffbc-4a44-823f-005c0c3bade1" class="">A field (variable in data, column in table) in DataModel can either be categorized as <em>dimension</em> or <em>measure</em></p><h3 id="1f0b87c2-a324-40ea-999f-47a0cce8b4ea" class=""><strong>Dimension</strong></h3><p id="c66675cf-cf7e-42ad-9938-8e75ca58ec59" class="">Dimensions are qualitative variables which helps in categorizing a data point.</p><h3 id="fdb9e6d6-cbcd-4a31-aba7-47dd302d69a2" class=""><strong>Measure</strong></h3><p id="c2adeb1e-0c28-403d-8141-77a562706e83" class="">Measures are quantitative variables which quantifies group of dimensional values. Mathematical functions are applied on measures.</p><p id="b6c1d716-5ec3-471f-a80a-a6d7fe40c05a" class="">The type of the variable is passed to DataModel by mentioning the <code>type</code> property of schema. DataModel&#x27;s schema is an array of simple key value pairs. For each variables in data (column in table) , there has to be an entry in schema.</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="7734b1ca-5e5e-45ca-a36f-83c0c5fe68d5"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><mark class="highlight-yellow"><strong>Missing variable in schema
</strong></mark>If a variable is present in data but omitted from schema, then the variable is not included in DataModel.</div></figure><p id="975fbdf1-d1ac-4c7a-b60e-5423a88e67ca" class="">Dimensions can be further categorized as <em>categorical</em> or <em>temporal</em> by mentioning <code>subtype</code>. Date and time is treated as <em>temporal</em> dimension which has different qualities than <em>categorical</em> dimension. Default <code>subtype</code> for a dimension is <code>categorical</code>.</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="63b405e0-8dc3-477f-b528-9b5439073215"><div style="font-size:1.5em"><span class="icon">✅</span></div><div style="width:100%"><mark class="highlight-teal"><strong>Example
</strong></mark>We&#x27;ve <em>Year</em> as a column, which contains the year of release of car. All date-time columns are also considered as <strong>Dimensions</strong>, on top of which you can run multiple operations (group by date-part, filter for specific date-range etc.).</div></figure><p id="12eb1217-9992-4648-bace-b32844dd8b7b" class="">For a temporal field, DataModel recognizes milliseconds and JavaScript <code>Date</code> object automatically. However schema has a <code>format</code> property which supports many different representations of date time. Read more about custom datetime parsing <mark class="highlight-blue"><a href="https://muzejs.org/docs/api-dateformat">here</a></mark>.</p><p id="01ae9faa-2fea-483f-874b-b6b07c4003e3" class="">Measures need to have an aggregation function (mathematical functions e.g., <code>sum</code>, <code>avg</code>, <code>min</code>, <code>max</code> etc.) defined on them. This function is called whenever grouping (aggregation) is required. If you don&#x27;t specify this, the default aggregation function used is <code>sum</code>. This function is passed to schema as a value of <code>defAggFn</code> property. Read <mark class="highlight-blue"><a href="https://muzejs.org/docs/api-reducer">here</a></mark> to know more about the aggregation functions provided by DataModel. You can also define your own aggregation functions by using DataModel&#x27;s <mark class="highlight-blue"><a href="https://muzejs.org/docs/api-reducerstore">reducer registration API</a></mark>.</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="c4aad586-b682-417d-8775-fccd40edfe13"><div style="font-size:1.5em"><span class="icon">✅</span></div><div style="width:100%"><mark class="highlight-teal"><strong>Example
</strong></mark>- You can do an average of *Miles_per_gallon* across a category of cars, or cars within a range of *Horsepower*. This helps you get more insights from your data, through transformations.
- You can find the most powerful car by doing a `max` on *Horsepower* across all cars.</div></figure><p id="95103362-b673-4df1-8a56-d42fda45adc0" class="">This is how a schema definition looks like:</p><figure id="e7433f4d-d785-42ff-8e00-8d0581750094"><div class="source"><a href="https://codepen.io/chartsdotcom/pen/rNaLmRp">https://codepen.io/chartsdotcom/pen/rNaLmRp</a></div></figure><p id="3fc7dac1-af30-441e-83c3-44b06ae4974f" class="">DataModel&#x27;s schema supports more properties to deeply identify a variable. Read more about it <mark class="highlight-blue"><a href="https://muzejs.org/docs/api-schema">here</a></mark>.</p><p id="ec47142a-0357-4199-bcc3-df4170061bdb" class="">To recap on DataModel:</p><ul id="a2b7272a-cb89-4bc2-b7bd-804ea5e7e5a9" class="bulleted-list"><li>You bring your data to the browser in one of the 3 formats (DSV, Flat JSON and 2D Array) and feed to DataModel</li></ul><ul id="0b24f753-0dc7-414c-8209-f3f268f01eb2" class="bulleted-list"><li>You provide a schema of your data to DataModel, which maps:<ul id="dd6af1f9-514b-4fd9-86a8-27a9a29d0d9f" class="bulleted-list"><li>Column in table → Field (Dimension or Measure) in DataModel</li></ul><ul id="4c6f41cb-ac06-4c72-9bb9-4d9c55e58392" class="bulleted-list"><li>Date or number formats, if it&#x27;s a date or numeric column</li></ul><ul id="b29c3282-0bd4-4941-86dd-08813215c5e2" class="bulleted-list"><li>Default aggregation function for any numeric column</li></ul></li></ul><p id="f0581620-8698-42c2-98e4-40b89f00f0a8" class="">If you&#x27;re using a relational database to fetch data, this mapping may help you:</p><ul id="2978e08d-0407-4177-813d-4a7b3888577c" class="bulleted-list"><li>Column in table → Field (Dimension/Measure) in DataModel</li></ul><ul id="2fc9cf1e-a0de-4f5d-bc30-ae7f76095086" class="bulleted-list"><li>Row in table → Tuple / row in DataModel</li></ul><ul id="7d77e1ce-a884-4f30-8adb-58b9845fb179" class="bulleted-list"><li>Table definition (column types) → Schema in DataModel</li></ul><ul id="a2e705d8-cd4c-49c8-accf-02d14cf4e24c" class="bulleted-list"><li>Data operations on table through SQL → Relational Operators in DataModel</li></ul><h2 id="7a4a0d3d-abe8-49ed-adaf-88f7e9e3e451" class=""><strong>Wrapping up</strong></h2><p id="d134e7a0-c580-4a04-809c-556243029501" class="">Now that we know how a DataModel is created, <mark class="highlight-blue"><a href="https://muzejs.org/docs/datamodel-operators">lets see how the power of DataModel unfolds when we apply operators on instances of DataModel</a></mark><mark class="highlight-blue">.</mark></p><p id="c035fe5b-c4a2-4d6e-8fa0-a01f15e7a8eb" class="">
</p></div></article></body></html>