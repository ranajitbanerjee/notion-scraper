<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Datamodel</title><style>
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark-href {
	font-size: 0.75em;
	opacity: 0.5;
}

.sans { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, KaiTi, STKaiTi, '华文楷体', KaiTi_GB2312, '楷体_GB2312', serif; }
.mono { font-family: Nitti, 'Microsoft YaHei', '微软雅黑', monospace; }
.pdf .sans { font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC', 'Noto Sans CJK KR'; }

.pdf .code { font-family: Source Code Pro, 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC', 'Noto Sans Mono CJK KR'; }

.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, KaiTi, STKaiTi, '华文楷体', KaiTi_GB2312, '楷体_GB2312', serif, 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC', 'Noto Sans CJK KR'; }

.pdf .mono { font-family: PT Mono, Nitti, 'Microsoft YaHei', '微软雅黑', monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC', 'Noto Sans Mono CJK KR'; }

.highlight-default {
}
.highlight-gray {
	color: rgb(155,154,151);
}
.highlight-brown {
	color: rgb(100,71,58);
}
.highlight-orange {
	color: rgb(217,115,13);
}
.highlight-yellow {
	color: rgb(223,171,1);
}
.highlight-teal {
	color: rgb(15,123,108);
}
.highlight-blue {
	color: rgb(11,110,153);
}
.highlight-purple {
	color: rgb(105,64,165);
}
.highlight-pink {
	color: rgb(173,26,114);
}
.highlight-red {
	color: rgb(224,62,62);
}
.highlight-gray_background {
	background: rgb(235,236,237);
}
.highlight-brown_background {
	background: rgb(233,229,227);
}
.highlight-orange_background {
	background: rgb(250,235,221);
}
.highlight-yellow_background {
	background: rgb(251,243,219);
}
.highlight-teal_background {
	background: rgb(221,237,234);
}
.highlight-blue_background {
	background: rgb(221,235,241);
}
.highlight-purple_background {
	background: rgb(234,228,242);
}
.highlight-pink_background {
	background: rgb(244,223,235);
}
.highlight-red_background {
	background: rgb(251,228,228);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(55, 53, 47, 0.6);
	fill: rgba(55, 53, 47, 0.6);
}
.block-color-brown {
	color: rgb(100,71,58);
	fill: rgb(100,71,58);
}
.block-color-orange {
	color: rgb(217,115,13);
	fill: rgb(217,115,13);
}
.block-color-yellow {
	color: rgb(223,171,1);
	fill: rgb(223,171,1);
}
.block-color-teal {
	color: rgb(15,123,108);
	fill: rgb(15,123,108);
}
.block-color-blue {
	color: rgb(11,110,153);
	fill: rgb(11,110,153);
}
.block-color-purple {
	color: rgb(105,64,165);
	fill: rgb(105,64,165);
}
.block-color-pink {
	color: rgb(173,26,114);
	fill: rgb(173,26,114);
}
.block-color-red {
	color: rgb(224,62,62);
	fill: rgb(224,62,62);
}
.block-color-gray_background {
	background: rgb(235,236,237);
}
.block-color-brown_background {
	background: rgb(233,229,227);
}
.block-color-orange_background {
	background: rgb(250,235,221);
}
.block-color-yellow_background {
	background: rgb(251,243,219);
}
.block-color-teal_background {
	background: rgb(221,237,234);
}
.block-color-blue_background {
	background: rgb(221,235,241);
}
.block-color-purple_background {
	background: rgb(234,228,242);
}
.block-color-pink_background {
	background: rgb(244,223,235);
}
.block-color-red_background {
	background: rgb(251,228,228);
}

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style><link rel="stylesheet" href="/static/iframe-docs/css/github.css"><link rel="stylesheet" href="/static/iframe-docs/css/style.css"><script src="/static/iframe-docs/js/highlight.pack.js"></script><script src="/static/iframe-docs/js/test.js"></script></head><body><article id="e5778648-e2a0-4e72-91bf-1f1812f4fbbb" class="page sans"><header><h1 class="page-title">Datamodel</h1></header><div class="page-body"><p id="5f14f77b-eb21-4ad5-9566-5826023e08fa" class><strong>Table of Contents</strong></p><div class="indented"><nav id="bffe43a0-c844-4d86-8ba2-abfc01b7d9b7" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#96815764-1283-458f-b7eb-70e9b39a9cd9"><code><mark class="highlight-blue"><strong>constructor</strong></mark></code></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#4e81cab3-ec01-4314-8c4e-1f848cf5887d"><code><mark class="highlight-blue"><strong>staticReducer</strong></mark></code></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#7ee704b6-7ee3-4c57-9f1e-6ecaf4fc4924"><code><mark class="highlight-blue"><strong>getData</strong></mark></code></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#5bafbf2f-4fa2-4bfc-874b-6a53cf900ca7"><code><mark class="highlight-blue"><strong>groupBy</strong></mark></code></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#29e25200-2394-4911-b07a-db0cc0c3ac21"><mark class="highlight-blue"><code>sort</code></mark></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#0420745e-146c-4d89-a421-58cdd1c5d50c"><code><mark class="highlight-blue"><strong>calculateVariable</strong></mark></code></a></div></nav></div><p></p><hr id="8278a6d1-f41e-41c8-ae78-9d6082fa152f"><p id="609dc79d-d739-4025-ad8c-c86925a18208" class>DataModel is an in-browser representation of tabular data. It supports&#xA0;<mark class="highlight-blue"><a href="https://en.wikipedia.org/wiki/Relational_algebra">relational algebra</a></mark>&#xA0;operators as well as generic data processing operators. DataModel extends&#xA0;<mark class="highlight-blue"><a href="https://muzejs.org/docs/api-Relation">Relation</a></mark>&#xA0;class which defines all the relational algebra operators. DataModel gives definition of generic data processing operators which are not relational algebra compliant but needed for ease of use.</p><h2 id="96815764-1283-458f-b7eb-70e9b39a9cd9" class><code><mark class="highlight-blue"><strong>constructor</strong></mark></code></h2><blockquote id="d4dc4e85-36b1-4d37-9b57-fb62d3e2a80b" class>Syntax:  <code>constructor(data, schema, options)</code></blockquote><pre id="7d6ee8d2-d15d-42bb-b1fc-4e6090be8a1a" class="code"><code>parameters:
	- data: 
			required: true
			type: JSON, string, Array of Array
			descriptions: Input data in any of the mentioned formats. Checkout this example for practical example on how feed different data format.
	- schema:
			required: true
			type: JSON
			description : The field definitions in Object format. Order of the variables in data and order of the variables in schema has to be same.
	- options:
			required: false
			type: Object
			default: {}
			description: Additional config
			parameters:
				- name:
						required: false
						type: String
						default: &apos;&apos;
						descriptions: Alias for datamodel
				- fieldSepeartor:
						required: false
						type: String
						default: &apos;,&apos;
						descriptions: Used only for CSV string data. </code></pre><p id="c2f0185e-9fee-435c-b5e3-63f466a8fcad" class>Creates a new DataModel instance by providing data and schema. Data could be in the form of</p><ul id="7b7deacb-5f95-4b96-b641-47739df76ce3" class="bulleted-list"><li>Flat JSON</li></ul><ul id="102a1534-1864-49db-bcff-4958faa19202" class="bulleted-list"><li>DSV String</li></ul><ul id="fdade6fd-0b37-4fe6-92df-acd07123b6db" class="bulleted-list"><li>2D Array</li></ul><p id="4f8ff823-a55f-459a-b564-819627cb66ea" class>By default DataModel finds suitable adapter to serialize the data. DataModel also expects a&#xA0;<mark class="highlight-blue"><a href="https://muzejs.org/docs/api-schema">schema</a></mark>&#xA0;for identifying the variables present in data.</p><figure id="94b46211-191f-46b3-a02e-a27558ea512d"><div class="source"><iframe id="cp_embed_WNbROWG" src="https://codepen.io/chartshq/embed/preview/WNbROWG?height=600&amp;slug-hash=WNbROWG&amp;default-tabs=js,result&amp;host=https://codepen.io&amp;editable=true" title="DataModel API: constructor" scrolling="no" frameborder="0" height="600" allowtransparency="true" class="cp_embed_iframe" style="width: 100%; overflow: hidden;"></iframe></div></figure><h2 id="4e81cab3-ec01-4314-8c4e-1f848cf5887d" class><code><mark class="highlight-blue"><strong>staticReducer</strong></mark></code></h2><blockquote id="2b5dca0d-98fc-47d9-8917-7607c721db12" class>Syntax: <code>[reducerFunctionName](params)</code></blockquote><p id="aaa54273-151c-4c93-b433-f53d3f6ad9f4" class>Reducers are simple functions which reduces an array of numbers to a representative number of the set. Like an array of numbers&#xA0;<code>[10, 20, 5, 15]</code>&#xA0;can be reduced to&#xA0;<code>12.5</code>&#xA0;if average / mean reducer function is applied. All the measure fields in datamodel (variables in data) needs a reducer to handle aggregation.</p><p id="cdf33322-6c16-464d-baae-9f3e6fc4cf96" class><strong>Returns:</strong></p><p id="9ae58c66-a530-4229-b311-28c36b1686a1" class><mark class="highlight-blue"><a href="https://muzejs.org/docs/ReducerStore">ReducerStore</a></mark>:&#xA0;Singleton instance of&#xA0;<mark class="highlight-blue"><a href="https://muzejs.org/docs/api-reducerstore">ReducerStore</a></mark>.</p><h2 id="7ee704b6-7ee3-4c57-9f1e-6ecaf4fc4924" class><code><mark class="highlight-blue"><strong>getData</strong></mark></code></h2><blockquote id="d85f24c8-a72c-41ce-ac04-007bf9c8f4be" class>Syntax:  <code>getData(options)</code></blockquote><pre id="e322864a-a999-4683-be67-09f8950dad75" class="code"><code>parameters:
  - options:
    	required: false
			type: Object
			default: {}
			description: Additional config to control how the raw data is to be returned
			parameters:
				- order:
						required: false
						type: String
						default: &apos;&apos;
						descriptions: Defines if data is retieved in row order or column order. Possible values are &apos;rows&apos; and &apos;columns&apos;
				- formatter:
						required: false
						type: String
						default: &apos;,&apos;
						descriptions: Formats the output data. 
							This expects an object, where the keys are the name of the variable needs to be formatted. 
							The formatter function is called for each row passing the value of the cell for a particular row as arguments. 
							The formatter is a function in the form of
							function (value, rowId, schema) =&gt; { ... }`.
							Know more about Fomatter.</code></pre><p id="6b3a47a7-a73f-47d3-825b-01fc0b1adff6" class>Retrieve the data attached to an instance in JSON format.</p><figure id="32ace639-abe5-422c-94c8-4ea369b9038d" class="image"><a href="https://muzejs.org/static/images/copy.svg"><img style="width:60px" src="https://muzejs.org/static/images/copy.svg"></a></figure><p id="3258e79b-7404-4159-a46d-ba121a3a18f8" class><strong>Returns:</strong></p><p id="17db3a4c-09d0-428c-874e-d11a96ca871b" class>Array:&#xA0;Returns a multidimensional array of the data with schema. The return format looks like</p><pre id="bc547023-dfa3-4293-88a8-73f918e5d102" class="code"><code>{ data, schema }</code></pre><pre id="7c6bc776-8d54-4767-b8e8-72a119683112" class="code"><code>// DataModel instance is created from https://muzejs.org/static/cars.json data,
 // https://muzejs.org/static/cars-schema.json schema and assigned to variable dm.
 const serializedData = dm.getData({
     order: &apos;column&apos;,
     formatter: {
         origin: (val) =&gt; val === &apos;European Union&apos; ? &apos;EU&apos; : val
     }
 console.log(serializedData);
 });</code></pre><h2 id="5bafbf2f-4fa2-4bfc-874b-6a53cf900ca7" class><code><mark class="highlight-blue"><strong>groupBy</strong></mark></code></h2><blockquote id="e1d40f04-f1cd-4c99-95d4-9e18eee07509" class>Syntax:  <code>groupBy(fieldsArr, reducers)</code></blockquote><pre id="4020c088-6468-4392-a1d8-b9027afddf35" class="code"><code>parameters:
	- fieldsArr: 
			required: true
			type: Array of string
			descriptions: Array containing the name of dimensions using which groupBy should happen.
	- reducers:
			required: false
			type: Object,
			default: {},
			description : A simple key value pair whose key is the variable name and value is the name of the reducer. If its not passed, or any variable is ommitted from the object, default aggregation function is used from the schema of the variable.</code></pre><p id="2f538948-cf80-438c-b657-d8e3fe675fe4" class>Groups the data using particular dimensions by reducing measures. It expects a list of dimensions using which it projects the datamodel and perform aggregations to reduce the duplicate tuples. Refer this&#xA0;<a href="https://muzejs.org/docs/datamodel-operators#groupby">document</a>&#xA0;to know the intuition behind groupBy.</p><p id="7c2032d7-36c7-4896-98f3-511929b7af67" class>DataModel by default provides definition of few&#xA0;<a href="https://muzejs.org/docs/api-reducer">Reducers</a>&#xA0;for reducing a measure when aggregation is required for&#xA0;<code>groupBy</code>.&#xA0;<a href="https://muzejs.org/docs/ReducerStore">User defined reducers</a>&#xA0;can also be registered.</p><p id="d76e292a-a8e6-410b-b8b0-45203c284d6a" class>This is the chained implementation of&#xA0;<code>groupBy</code>.&#xA0;<code>groupBy</code>&#xA0;also supports&#xA0;<a href="https://muzejs.org/muze/api/datamodel#compose-groupby">composability</a>.</p><figure id="d0bee1a6-5132-4c96-815c-68f0600906fe" class="image"><a href="https://muzejs.org/static/images/copy.svg"><img style="width:72px" src="https://muzejs.org/static/images/copy.svg"></a></figure><pre id="d36c8dc4-6d95-4831-87a0-86d09cde63d3" class="code"><code>// DataModel instance is created from https://muzejs.org/static/cars.json data,
 // https://muzejs.org/static/cars-schema.json schema and assigned to variable dm.
 const outputDM = dm.groupBy([&apos;Year&apos;], { horsepower: &apos;max&apos; } );</code></pre><p id="46a39b88-7431-4e10-a7b7-e7f1c3d2da90" class><strong>Returns:</strong></p><p id="12b08632-80ad-4cac-a8cb-28646c699a94" class><mark class="highlight-blue"><a href="https://muzejs.org/docs/DataModel">DataModel</a></mark>:&#xA0;Returns a new DataModel instance after performing the groupby.</p><p id="797bd8bc-aa00-4123-aee0-44dffc4a3885" class>
</p><h2 id="29e25200-2394-4911-b07a-db0cc0c3ac21" class><mark class="highlight-blue"><code>sort</code></mark></h2><blockquote id="637756b6-fdbe-4e58-b569-7d222a67dd19" class>Syntax:  <code>sort(sortingDetails)</code></blockquote><pre id="c481c8b4-1c14-49a3-a7b3-ae2d42690324" class="code"><code>parameters:
	- sortingDetails: 
			required: true
			type: Array of Array
			descriptions: Sorting details based on which the sorting will be performed.</code></pre><p id="b77503b9-1de5-4a08-9caa-f60c58f4708c" class>Performs sorting according to the specified sorting details.Like every other operator it doesn&apos;t mutate the current DataModel instance on which it was called, instead returns a new DataModel instance containing the sorted data.</p><p id="7bb8caa5-e725-4ee0-b27f-d4229def49a6" class>DataModel support multi level sorting by listing the variables using which sorting needs to be performed and the type of sorting&#xA0;<code>ASC</code>&#xA0;or&#xA0;<code>DESC</code>.</p><p id="5a00aae7-2ed7-4023-b7e3-80879ead6fb1" class>In the following example, data is sorted by&#xA0;<code>Origin</code>&#xA0;field in&#xA0;<code>DESC</code>&#xA0;order in first level followed by another level of sorting by&#xA0;<code>Acceleration</code>&#xA0;in&#xA0;<code>ASC</code>&#xA0;order.</p><figure id="9dceba8e-cbe0-41eb-bb1e-4243677c24c2" class="image"><a href="https://muzejs.org/static/images/copy.svg"><img style="width:36px" src="https://muzejs.org/static/images/copy.svg"></a></figure><pre id="be661a9a-51b2-4681-a1d7-fd720975c0d2" class="code"><code>// DataModel instance is created from https://muzejs.org/static/cars.json data,
 // https://muzejs.org/static/cars-schema.json schema and assigned to variable dm.
 let outputDM = dm.sort([
     [&apos;Origin&apos;, &apos;DESC&apos;],
     [&apos;Acceleration&apos;] // Default value is ASC
 ]);</code></pre><figure id="29dfaa1c-7ff9-4dfb-b114-3067dab85168" class="image"><a href="https://muzejs.org/static/images/copy.svg"><img style="width:72px" src="https://muzejs.org/static/images/copy.svg"></a></figure><pre id="6d5672df-bfff-4704-9731-4cab022eacda" class="code"><code>// DataModel instance is created from https://muzejs.org/static/cars.json data,
 // https://muzejs.org/static/cars-schema.json schema and assigned to variable dm. DataModel is extracted
 // from muze namespace and assigned to DataModel variable.
 const avg = DataModel.Stats.avg;
 const outputDM = dm.sort([
     [&apos;Origin&apos;, [&apos;Acceleration&apos;, (a, b) =&gt; avg(a.Acceleration) - avg(b.Acceleration)]]
 ]);</code></pre><p id="52dd27e5-3051-470a-bdf6-61beef115be2" class><strong>Returns:</strong></p><p id="8b6e8264-69a7-4c8f-817c-ab3f1e738a16" class><mark class="highlight-blue"><a href="https://muzejs.org/docs/DataModel">DataModel</a></mark>:&#xA0;Returns a new instance of DataModel with sorted data.</p><h2 id="0420745e-146c-4d89-a421-58cdd1c5d50c" class><code><mark class="highlight-blue"><strong>calculateVariable</strong></mark></code></h2><blockquote id="b0079359-cf03-4446-84cc-0c43d3ced6ef" class>Syntax:  <code>calculateVariable(params)</code></blockquote><pre id="6249f19b-eea8-4029-9ab2-61a8f2f2f369" class="code"><code>parameters:
	- schema:
			required: true
			type: JSON
			description : Schema of newly defined variable
	- resolver:
			required: true
			type: VariableResolver
			description : Resolver format to resolve the current variable</code></pre><p id="264251e2-61a2-4993-bdf6-155d490ac1eb" class>Creates a new variable calculated from existing variable. This method expects definition of the newly created variable and a function which resolves value of the new variable from existing variables.</p><p id="8c152c1d-f1cf-4434-9178-847b66b07fcc" class>Creates a new measure based on existing variables</p><figure id="264d2ae1-8e35-4847-a28d-ab314c3a4e00" class="image"><a href="https://muzejs.org/static/images/copy.svg"><img style="width:36px" src="https://muzejs.org/static/images/copy.svg"></a></figure><pre id="c4da665d-4361-4f08-92da-2f19b6f93f46" class="code"><code>// DataModel instance is created from https://muzejs.org/static/cars.json data,
 // https://muzejs.org/static/cars-schema.json schema and assigned to variable dm.
 const outputDM= dm.calculateVariable(
    {
      name: &apos;Efficiency&apos;,
      type: &apos;dimension&apos;
    }, [&apos;Horsepower&apos;, (hp) =&gt; {
     if (hp &lt; 80) { return &apos;low&apos;; }
     else if (hp &lt; 120) { return &apos;moderate&apos;; }
     else { return &apos;high&apos; }
 }]);</code></pre><figure id="ee6bfedb-822d-47d0-bf60-672d00eb3780" class="image"><a href="https://muzejs.org/static/images/copy.svg"><img style="width:48px" src="https://muzejs.org/static/images/copy.svg"></a></figure><pre id="a3d9d432-bfae-481c-bc32-b62c4f1024b5" class="code"><code>// DataModel instance is created from https://muzejs.org/static/cars.json data,
 // https://muzejs.org/static/cars-schema.json schema and assigned to variable dm.
 const outputDM= dm.calculateVariable(
    {
      name: &apos;Efficiency&apos;,
      type: &apos;dimension&apos;
    }, [&apos;Horsepower&apos;, (hp) =&gt; {
     if (hp &lt; 80) { return &apos;low&apos;; }
     else if (hp &lt; 120) { return &apos;moderate&apos;; }
     else { return &apos;high&apos; }
 }]);</code></pre><p id="1bf0cbde-50b3-49f6-89b2-c0e66d1f59dd" class><strong>Returns:</strong></p><p id="56fa6d45-a025-409c-b7f9-cacdfd0bdff4" class><mark class="highlight-blue"><a href="https://muzejs.org/docs/DataModel">DataModel</a></mark>:&#xA0;Instance of DataModel with the new field</p></div></article></body><script>hljs.initHighlightingOnLoad();</script><script>hljs.initHighlightingOnLoad();</script></html>