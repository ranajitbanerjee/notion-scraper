<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Interaction Model</title><style>
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark-href {
	font-size: 0.75em;
	opacity: 0.5;
}

.sans { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, KaiTi, STKaiTi, '华文楷体', KaiTi_GB2312, '楷体_GB2312', serif; }
.mono { font-family: Nitti, 'Microsoft YaHei', '微软雅黑', monospace; }
.pdf .sans { font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC', 'Noto Sans CJK KR'; }

.pdf .code { font-family: Source Code Pro, 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC', 'Noto Sans Mono CJK KR'; }

.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, KaiTi, STKaiTi, '华文楷体', KaiTi_GB2312, '楷体_GB2312', serif, 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC', 'Noto Sans CJK KR'; }

.pdf .mono { font-family: PT Mono, Nitti, 'Microsoft YaHei', '微软雅黑', monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC', 'Noto Sans Mono CJK KR'; }

.highlight-default {
}
.highlight-gray {
	color: rgb(155,154,151);
}
.highlight-brown {
	color: rgb(100,71,58);
}
.highlight-orange {
	color: rgb(217,115,13);
}
.highlight-yellow {
	color: rgb(223,171,1);
}
.highlight-teal {
	color: rgb(15,123,108);
}
.highlight-blue {
	color: rgb(11,110,153);
}
.highlight-purple {
	color: rgb(105,64,165);
}
.highlight-pink {
	color: rgb(173,26,114);
}
.highlight-red {
	color: rgb(224,62,62);
}
.highlight-gray_background {
	background: rgb(235,236,237);
}
.highlight-brown_background {
	background: rgb(233,229,227);
}
.highlight-orange_background {
	background: rgb(250,235,221);
}
.highlight-yellow_background {
	background: rgb(251,243,219);
}
.highlight-teal_background {
	background: rgb(221,237,234);
}
.highlight-blue_background {
	background: rgb(221,235,241);
}
.highlight-purple_background {
	background: rgb(234,228,242);
}
.highlight-pink_background {
	background: rgb(244,223,235);
}
.highlight-red_background {
	background: rgb(251,228,228);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(55, 53, 47, 0.6);
	fill: rgba(55, 53, 47, 0.6);
}
.block-color-brown {
	color: rgb(100,71,58);
	fill: rgb(100,71,58);
}
.block-color-orange {
	color: rgb(217,115,13);
	fill: rgb(217,115,13);
}
.block-color-yellow {
	color: rgb(223,171,1);
	fill: rgb(223,171,1);
}
.block-color-teal {
	color: rgb(15,123,108);
	fill: rgb(15,123,108);
}
.block-color-blue {
	color: rgb(11,110,153);
	fill: rgb(11,110,153);
}
.block-color-purple {
	color: rgb(105,64,165);
	fill: rgb(105,64,165);
}
.block-color-pink {
	color: rgb(173,26,114);
	fill: rgb(173,26,114);
}
.block-color-red {
	color: rgb(224,62,62);
	fill: rgb(224,62,62);
}
.block-color-gray_background {
	background: rgb(235,236,237);
}
.block-color-brown_background {
	background: rgb(233,229,227);
}
.block-color-orange_background {
	background: rgb(250,235,221);
}
.block-color-yellow_background {
	background: rgb(251,243,219);
}
.block-color-teal_background {
	background: rgb(221,237,234);
}
.block-color-blue_background {
	background: rgb(221,235,241);
}
.block-color-purple_background {
	background: rgb(234,228,242);
}
.block-color-pink_background {
	background: rgb(244,223,235);
}
.block-color-red_background {
	background: rgb(251,228,228);
}

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="676acea6-3bc9-4e23-b214-cd7f76eba940" class="page sans"><header><h1 class="page-title">Interaction Model</h1></header><div class="page-body"><p id="feba9987-ca96-4f49-a670-d95a5a6a9e79" class>In most visualization libraries, interaction is established by binding an event to a DOM element and executing a set of functions on the dataset associated with that element. While this establishes event interaction but trying to achieve the same functionality dynamically (for instance, through an API or some other external event) is quite difficult and sometimes nearly unachievable.</p><p id="6a18d3ff-a107-45e4-bfd1-71d8ef2884f5" class>Muze follows a data driven interaction model . This means that any interaction in Muze occurs due to the data bound to it and not the element itself. Hence, any interaction can be triggered in Muze irrespective of the source of the trigger. Muze achieves this using&#xA0;<strong>Firebolt</strong>, which is responsible for handling these interactions.</p><p id="56af289f-be2b-4b14-9c8c-5bf214ea5f0a" class>Let&apos;s try and understand how this works with the simple&#xA0;<mark class="highlight-blue"><a href="https://muzejs.org/static/cars.json">cars.json</a></mark>&#xA0;data.</p><h2 id="f61104cb-7fbf-4784-bca9-05bbe3d3aee0" class><strong>Simple interaction in Muze</strong></h2><p id="bb6d698d-9b27-46b1-8ab5-45d281cdc5fe" class>Let us start with a simple bar chart, of&#xA0;<em>Miles per Gallon</em>&#xA0;v/s&#xA0;<em>Number of Cylinders</em>&#xA0;in a car:</p><figure id="0c16a26a-daaa-42da-9fc5-d5978cd868c9" class="image"><a href="https://muzejs.org/static/images/copy.svg"><img style="width:72px" src="https://muzejs.org/static/images/copy.svg"></a></figure><pre id="941d3b84-fa1d-4d88-8a3b-65cbfce9de8c" class="code"><code>&#x200B;loadData(&apos;/static/cars.json&apos;).then((res) =&gt; {    
  let node = document.getElementById(&apos;chart-container&apos;);    
  const env = muze();    
  const canvas = env.canvas();    
  const DataModel = muze.DataModel;  	
  loadData(&apos;/static/cars-schema.json&apos;).then((schema) =&gt; {
    const dataModelInstance = new DataModel(res, schema);
          canvas
          	.width(600)
          	.height(400)
			.rows([&apos;Miles_per_Gallon&apos;])
			.columns([&apos;Cylinders&apos;])
    		.layers([{
              	mark: &apos;bar&apos;
            }])
			.data(dataModelInstance)
    		.mount(node)
    });
})</code></pre><p id="e0f9753b-d5d1-4a6b-b3ad-2cc69ee7b746" class>Notice, that every time we hover on any of the bars, we get a tooltip displaying the information for that bar. :</p><figure id="f4d0aa05-d16e-4081-b481-b7dfdef3d516" class="image"><a href="https://muzejs.org/static/docs_images/interaction-model/interaction-model-1.png"><img src="https://muzejs.org/static/docs_images/interaction-model/interaction-model-1.png"></a></figure><p id="2306f263-7f1b-4cb1-b73d-1ce632bf97a1" class>It may seem that it is an event driven interaction but that is not what happens here. To understand this, we have to first understand the three aspects of Muze&apos;s Interaction Model</p><h3 id="6f2fad7c-8667-48b3-996c-7d36a63369db" class><strong>Aspects of the Interaction Model</strong></h3><p id="35a12263-0831-4a52-9acb-981eec1b0fdb" class>Muze has three aspects. We will deal with them more comprehensively later:</p><ul id="5b0386e3-1975-45bf-bed0-c6873486dcec" class="bulleted-list"><li><strong>Physical Actions</strong>: A physical action can trigger an interaction in Muze. Events like hover and click constitute Physical Actions. Additionally, you can define your own set of physical actions</li></ul><ul id="e58f9fc4-2f30-424a-89ba-f4102ccfd890" class="bulleted-list"><li><strong>Behaviours</strong>: Behaviours are how the canvas(es) acts/reacts to a particular interaction. For instance, hovering a bar creates a visual change(tooltip), this is a change from the normal behaviour of the chart.</li></ul><ul id="8a6c91c7-7ec7-461d-85cb-b622ae6f66df" class="bulleted-list"><li><strong>Sideeffects</strong>: Sideeffects are the actual visual changes occuring whenever a behaviour changes due to an interaction. For instance, the tooltip that occurs on hover is the side effect.</li></ul><p id="f3b73c92-c9b3-43b8-868e-1bcdb0ecc601" class>So how do these aspects fit into the interaction of Muze?</p><h3 id="7c6ae304-0cfc-4ae7-bb2e-72495af0a381" class><strong>Understanding how the interaction works</strong></h3><h3 id="d5a819be-80b2-4aa0-82f2-d838123c456b" class>Step one: Determining the data set through the physical action</h3><p id="ea1d794a-429e-4803-9e40-6e577038255d" class>As mentioned earlier, when we hovered over the chart, we triggered an interaction. This is a type of physical action. Once the physical action is executed, it determines the dataset attached to the bar to affect the behaviour of the chart.</p><figure id="ecad03ac-e7ea-4386-90a2-fc42ea54006f" class="image"><a href="https://muzejs.org/static/docs_images/interaction-model/interaction-model-2.png"><img src="https://muzejs.org/static/docs_images/interaction-model/interaction-model-2.png"></a></figure><p id="26c01e5d-4a38-4223-8497-2403071d977a" class>For instance, in the example above, we hovered over the bar, the physical action retrieves the dataset attached to it, i.e., the&#xA0;<em>Cylinder</em>&#xA0;value of&#xA0;<strong>3</strong>.</p><h3 id="5025d932-e00a-4862-adec-74143845faf9" class>Step two: Getting the set of affected rows in the DataModel</h3><p id="1ab658a8-5046-46e1-8e54-205fc59bc366" class>Interactions in Muze are data driven. Hence, any interaction affects a set of rows in the DataModel attached to the canvas.</p><p id="0f93a6f3-3d12-45f8-b80f-aa53ee5e1bcd" class>When the physical action retrieves the dataset on interaction, it passes this information by triggering a change in the behaviour and causing a behavioural action.</p><p id="5809addf-cb02-401e-bcdc-6f8b6feb44f4" class>A behaviour is how the canvas acts/reacts to an interaction. Thus, when it receives a set of data from the physical action(or by dynamic dispatching), it uses the DataModel of the canvas to retrieve the set of rows affected by this dataset.</p><figure id="f4214935-fbfa-4de0-aa13-52ff91f2a8a1" class="image"><a href="https://muzejs.org/static/docs_images/interaction-model/interaction-model-3.png"><img src="https://muzejs.org/static/docs_images/interaction-model/interaction-model-3.png"></a></figure><p id="816ec2af-f24c-4103-aa3b-6417cab0de6a" class>For instance, in our example, when we hovered over the bar, it retrieves all the rows in the DataModel having the&#xA0;<em>Cylinder</em>&#xA0;value as&#xA0;<strong>3</strong>. This way, no matter what appears on the chart, you have control over the dataset since it is bound to the DataModel.</p><h3 id="eef5af09-7182-40cd-b2ac-ddebb3cb98a1" class>Step three: Applying visual Sideeffects</h3><p id="e6bd045f-8eac-4a5b-a6f0-6a2ce1d04ba0" class>A behavioural action only determines the set of affected rows. In order to produce a visual change in the chart based on that behaviour, a sideeffect is applied to it. Basically, everytime a behaviour changes, the corresponding side effects get applied based on the affected set of rows from the DataModel.</p><figure id="124f8c53-7ba5-4476-938a-0b336305b405" class="image"><a href="https://muzejs.org/static/docs_images/interaction-model/interaction-model-4.png"><img src="https://muzejs.org/static/docs_images/interaction-model/interaction-model-4.png"></a></figure><p id="d49ed8ae-08c8-4bea-868b-fa6410665063" class>Thus, in the example above, the tooltip is the sideeffect generated from the change in the behaviour.</p><h2 id="88664f96-afac-4a55-991b-739890b3b04a" class><strong>Wrapping Up</strong></h2><p id="6b867ba3-075b-4275-b342-45f62f179b09" class>This section introduced you to the interaction model for Muze. To summarize:</p><ul id="bfaea9a3-2650-430d-a150-dea76820c9d4" class="bulleted-list"><li>Muze follows a data driven Interaction Model</li></ul><ul id="eb2c10da-aebc-47aa-a472-7f0d55a11c71" class="bulleted-list"><li>This model has three aspects: physical actions, behaviours and sideeffects</li></ul><ul id="33ca1c3d-a8d0-457b-b616-180c8ad6d64c" class="bulleted-list"><li>Physical actions are actual events which can trigger an interaction</li></ul><ul id="023d715f-3813-4088-bb60-b505fbe2b2f9" class="bulleted-list"><li>Behaviours are how the chart would act/react to change during an interaction</li></ul><ul id="3697a4fe-e5b9-406b-8d96-1c6a9efb4807" class="bulleted-list"><li>Side effects are visual changes occurring due to any change in behaviour</li></ul><p id="647ebcc1-bf01-4d1f-b8d9-712f5538845d" class>Read up on&#xA0;<mark class="highlight-blue"><a href="https://muzejs.org/docs/physical-actions">Physical Actions</a></mark>,&#xA0;<mark class="highlight-blue"><a href="https://muzejs.org/docs/behaviours">Behaviours</a></mark>&#xA0;and&#xA0;<mark class="highlight-blue"><a href="https://muzejs.org/docs/sideeffects">Side effects</a></mark>&#xA0;to get in-depth understanding on how they work</p><p id="6e2f7dd2-79be-4a25-8fad-703fd9f0e307" class>
</p></div></article></body></html>