<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Using Data From Arrays or CSVs in Muze</title><style>
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark-href {
	font-size: 0.75em;
	opacity: 0.5;
}

.sans { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, KaiTi, STKaiTi, '华文楷体', KaiTi_GB2312, '楷体_GB2312', serif; }
.mono { font-family: Nitti, 'Microsoft YaHei', '微软雅黑', monospace; }
.pdf .sans { font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC', 'Noto Sans CJK KR'; }

.pdf .code { font-family: Source Code Pro, 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC', 'Noto Sans Mono CJK KR'; }

.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, KaiTi, STKaiTi, '华文楷体', KaiTi_GB2312, '楷体_GB2312', serif, 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC', 'Noto Sans CJK KR'; }

.pdf .mono { font-family: PT Mono, Nitti, 'Microsoft YaHei', '微软雅黑', monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC', 'Noto Sans Mono CJK KR'; }

.highlight-default {
}
.highlight-gray {
	color: rgb(155,154,151);
}
.highlight-brown {
	color: rgb(100,71,58);
}
.highlight-orange {
	color: rgb(217,115,13);
}
.highlight-yellow {
	color: rgb(223,171,1);
}
.highlight-teal {
	color: rgb(15,123,108);
}
.highlight-blue {
	color: rgb(11,110,153);
}
.highlight-purple {
	color: rgb(105,64,165);
}
.highlight-pink {
	color: rgb(173,26,114);
}
.highlight-red {
	color: rgb(224,62,62);
}
.highlight-gray_background {
	background: rgb(235,236,237);
}
.highlight-brown_background {
	background: rgb(233,229,227);
}
.highlight-orange_background {
	background: rgb(250,235,221);
}
.highlight-yellow_background {
	background: rgb(251,243,219);
}
.highlight-teal_background {
	background: rgb(221,237,234);
}
.highlight-blue_background {
	background: rgb(221,235,241);
}
.highlight-purple_background {
	background: rgb(234,228,242);
}
.highlight-pink_background {
	background: rgb(244,223,235);
}
.highlight-red_background {
	background: rgb(251,228,228);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(55, 53, 47, 0.6);
	fill: rgba(55, 53, 47, 0.6);
}
.block-color-brown {
	color: rgb(100,71,58);
	fill: rgb(100,71,58);
}
.block-color-orange {
	color: rgb(217,115,13);
	fill: rgb(217,115,13);
}
.block-color-yellow {
	color: rgb(223,171,1);
	fill: rgb(223,171,1);
}
.block-color-teal {
	color: rgb(15,123,108);
	fill: rgb(15,123,108);
}
.block-color-blue {
	color: rgb(11,110,153);
	fill: rgb(11,110,153);
}
.block-color-purple {
	color: rgb(105,64,165);
	fill: rgb(105,64,165);
}
.block-color-pink {
	color: rgb(173,26,114);
	fill: rgb(173,26,114);
}
.block-color-red {
	color: rgb(224,62,62);
	fill: rgb(224,62,62);
}
.block-color-gray_background {
	background: rgb(235,236,237);
}
.block-color-brown_background {
	background: rgb(233,229,227);
}
.block-color-orange_background {
	background: rgb(250,235,221);
}
.block-color-yellow_background {
	background: rgb(251,243,219);
}
.block-color-teal_background {
	background: rgb(221,237,234);
}
.block-color-blue_background {
	background: rgb(221,235,241);
}
.block-color-purple_background {
	background: rgb(234,228,242);
}
.block-color-pink_background {
	background: rgb(244,223,235);
}
.block-color-red_background {
	background: rgb(251,228,228);
}

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="6249c479-54fa-4049-a4ed-b32be80e7c07" class="page sans"><header><h1 class="page-title"><strong>Using Data From Arrays or CSVs in Muze</strong></h1></header><div class="page-body"><p id="cf44e3f8-7b20-4ad7-914a-e31e74ef61a2" class>Muze accepts instanceof&#xA0;<mark class="highlight-blue"><a href="https://muzejs.org/docs/introduction-to-datamodel">DataModel</a></mark>&#xA0;as first class data source for all its visualization.&#xA0;<mark class="highlight-blue"><a href="https://muzejs.org/docs/introduction-to-datamodel">DataModel</a></mark>&#xA0;automatically recognizes the most popular formats of data in web</p><ul id="b11d6555-87da-4328-b926-3655f384def6" class="bulleted-list"><li>FlatJSON</li></ul><ul id="dd0ec287-2d6f-4ef8-8963-38f2b09bbd77" class="bulleted-list"><li>DSV String</li></ul><ul id="5198c579-cf4d-457e-95dd-e66f2f4bac8d" class="bulleted-list"><li>2D Array</li></ul><p id="3ac1c17b-1f08-490d-9736-1cd1f7deb7f0" class>We have already seen in a&#xA0;<mark class="highlight-blue"><a href="https://muzejs.org/docs/creating-your-first-chart-with-muze">previous tutorial</a></mark>&#xA0;how to create a DataModel and render charts using a FlatJSON format.</p><p id="b5959596-8d2a-463b-ad97-07d138620372" class>Let us try the other types of data and see how we can use them to create charts. The process of creating visualization is no different from the one we have seen in the&#xA0;<mark class="highlight-blue"><a href="https://muzejs.org/docs/creating-your-first-chart-with-muze">previous tutorial</a></mark>.</p><h2 id="a4743fd2-043d-4624-b800-80041c37e570" class><strong>Delimiter Separated Values</strong></h2><p id="93d62148-5365-47cd-b6d5-80c9bd317040" class>We will take a CSV file (CSV is just a variation of DSV format where the delimiter is comma) for our example. We need to provide headers to the CSV, so that the schema can identify the variables from data.</p><p id="e70ab8bf-5b3e-4f84-93d3-87944a76054d" class>Let&apos;s consider the following CSV data, which records the data of shifts in social media for teenagers in percentage of count:</p><pre id="48dcc073-fa55-407d-aef4-2a417df10e7f" class="code"><code>Media,Year,percentage,
Youtube,2015,null,
Youtube,2018,85,
Instagram,2018,72,
Instagram,2015,52,
Snapchat,2018,69,
Snapchat,2015,41,
Facebook,2018,51,
Facebook,2015,71,
Twitter,2018,32,
Twitter,2015,33,
Tumblr,2018,9,
Tumblr,2015,14,
Reddit,2018,7,
Reddit,2015,null,
Vine,2015,24,
Vine,2018,null,</code></pre><pre id="1635576b-7f46-491a-bf4e-ddeb187b49c8" class="code"><code>// Defines the data for visualization in CSV format
const res = `Media,Year,value,
Youtube,2015,null,
Youtube,2018,85,
Instagram,2018,72,
Instagram,2015,52,
Snapchat,2018,69,
Snapchat,2015,41,
Facebook,2018,51,
Facebook,2015,71,
Twitter,2018,32,
Twitter,2015,33,
Tumblr,2018,9,
Tumblr,2015,14,
Reddit,2018,7,
Reddit,2015,null,
Vine,2015,24,
Vine,2018,null,`;

const env = muze(); /* Creates an environment to hold settings */
const canvas = env.canvas(); /* Asks for an instance of canvas from environment */
const DataModel = muze.DataModel;

const schema = [ /* Defines the schema so that DataModel recognizes the variables from data */
    { name: &apos;Media&apos;, type: &apos;dimension&apos; },
    { name: &apos;Year&apos;, type: &apos;dimension&apos;, subtype: &apos;temporal&apos;, format: &apos;%Y&apos; },
    { name: &apos;value&apos;, type: &apos;measure&apos; },
];

const dm = new DataModel(res, schema);
canvas
    .data(dm) /* pass the instance of DataModel */
    .width(600)
    .height(400)
    .config({ /* Configuration of viz */
        axes: {
            y:{
                name: &apos;Value in percentage&apos;, /* y axis name to be displayed. If not given, it shows the variable&apos;s name*/
                tickFormat:  val =&gt; `${val}%` /* Data has not been recorded with percentage marks, formatter format the ticks with the percentage mark */
            }
        }
    })
    .rows([&apos;value&apos;]) /* Plots against y-axis */
    .columns([&apos;Year&apos;])  /* Plots against x-axis */
    .color({
        field: &apos;Media&apos;, /* Field using which the plots will be colored */
  		/* 
        	Assigns a custom palette for different values of Media field. If not provided it shows
            default system palette
        */
        range: [&apos;red&apos;, &apos;orange&apos;, &apos;yellow&apos;, &apos;#33b5e91&apos;, &apos;#31a6ea&apos;, &apos;grey&apos;, &apos;red&apos;, &apos;green&apos;]
    })
    .layers([ /* Position one layer on top of another layer */
        { /* Draws a line layer (plot) */
            mark: &apos;line&apos;,
            connectNullData: true
        }, /* Draws a point / dot layer (plot) */
        { mark: &apos;point&apos; }
    ])
    .title(&apos;Shifts of teenagers in social media usage&apos;)
    .mount(&apos;#chart-container&apos;);</code></pre><p id="5f3ed7d0-502d-4df8-a3b2-9b511ac5a814" class>You may notice the use of the&#xA0;<mark class="highlight-blue"><a href="https://muzejs.org/docs/composing-layers">layers</a></mark>&#xA0;method in the above code. We have used this method to create a&#xA0;<strong>line layer</strong>&#xA0;and a&#xA0;<strong>point layer</strong>&#xA0;using the same set of configurations, causing both the layers to get rendered with the same set of data. This is a very basic example of a&#xA0;<mark class="highlight-blue"><a href="https://muzejs.org/docs/composing-layers#creating-multiple-layers">composed layer</a></mark>. You can read more about it in&#xA0;<mark class="highlight-blue"><a href="https://muzejs.org/docs/composing-layers">composing Layers</a></mark>.</p><p id="df733bb9-cba1-47d2-b95b-8b126294fdad" class>You will get to know about each and every methods and their need through out various phases of the documentation.</p><h2 id="d2458cbc-9b13-4e58-beb1-40acea87a63e" class><strong>JavaScript 2D Array</strong></h2><p id="625b367a-89ae-45d2-81ad-382c57a43471" class>Muze takes data in 2D Array format as well. The 2D array representation of the above data will be look like</p><pre id="979bf346-01d6-4b95-8af6-3241bea16c67" class="code"><code>[[&apos;Media&apos;,&apos;Year&apos;,&apos;value&apos;],
[&apos;Youtube&apos;,2015,null],
[&apos;Youtube&apos;,2018,85],
[&apos;Instagram&apos;,2018,72],
[&apos;Instagram&apos;,2015,52],
[&apos;Snapchat&apos;,2018,69],
[&apos;Snapchat&apos;,2015,41],
[&apos;Facebook&apos;,2018,51],
[&apos;Facebook&apos;,2015,71],
[&apos;Twitter&apos;,2018,32],
[&apos;Twitter&apos;,2015,33],
[&apos;Tumblr&apos;,2018,9],
[&apos;Tumblr&apos;,2015,14],
[&apos;Reddit&apos;,2018,7],
[&apos;Reddit&apos;,2015,null],
[&apos;Vine&apos;,2015,24],
[&apos;Vine&apos;,2018,null]]</code></pre><h2 id="faf17ff7-2301-4074-bd95-694680ef1ed5" class><strong>Wrapping Up</strong></h2><p id="61e3dedb-af47-4230-8bd5-aff6cc61fc2f" class>We saw how working with different data formats is a breeze in Muze with<mark class="highlight-blue">&#xA0;</mark><mark class="highlight-blue"><a href="https://muzejs.org/docs/introduction-to-datamodel">DataModel</a></mark>. Next, you can either want to learn how to&#xA0;<mark class="highlight-blue"><a href="https://muzejs.org/docs/Use-existing-muze-samples-with-your-data">use existing muze samples with your data</a></mark>&#xA0;or you can directly head to&#xA0;<mark class="highlight-blue"><a href="https://muzejs.org/docs/changing-plot-types">changing plot types</a></mark><mark class="highlight-blue">.</mark></p><p id="dc0f14d7-c25b-48fe-bb35-27513457db9b" class>
</p></div></article></body></html>